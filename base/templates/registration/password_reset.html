{% extends 'main.html' %}

{% block content %}
<div class="container">
    <div class="layout__box">
        <div class="layout__boxHeader">
            <div class="layout__boxTitle">
                <h3>Password Reset</h3>
            </div>
        </div>
        <div class="layout__body">
            <h2 class="auth__tagline">Reset your password</h2>

            <!-- Form for password reset request -->
            <form class="form" action="" method="POST">
                {% csrf_token %}
                <div class="form__group">
                    <label for="email">Email</label>
                    <!-- Bind the email field from the form -->
                    <input id="email" name="email" type="email" placeholder="e.g. youremail@email.com" required value="{{ form.email.value|default:'' }}"/>
                </div>

                <!-- Display form field errors (like invalid email) -->
                {% if form.email.errors %}
                <div class="form__errors">
                    <ul>
                        {% for error in form.email.errors %}
                            <li class="error-message">{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>
                {% endif %}

                <!-- Display non-field errors (for general issues) -->
                {% if form.non_field_errors %}
                <div class="form__errors">
                    <ul>
                        {% for error in form.non_field_errors %}
                            <li class="error-message">{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>
                {% endif %}

                <button class="btn btn--main" type="submit">
                    Request Password Reset
                </button>
            </form>

            <div class="auth__action">
                <p>Remembered your password?</p>
                <a href="{% url 'login' %}" class="btn btn--link">Login</a>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
